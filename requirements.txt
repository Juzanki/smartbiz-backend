# ───────────────────────── SmartBiz Assistance — Backend deps ─────────────────────────
# NOTES:
# - FastAPI 0.111.x → Pydantic v2; tuna‐pin pydantic/pydantic-core ili kuepuka “Config vs model_config” chaos.
# - passlib[bcrypt]==1.7.4 + bcrypt==3.2.2 → huzuia "module 'bcrypt' has no attribute '__about__'".
# - SQLAlchemy 2.x + psycopg2-binary 2.9.x → imekuwa stable sana kwa Render Postgres.
# - Uvicorn[standard] huleta uvloop, httptools, websockets kwa performance.

# ── Core ASGI / API ───────────────────────────────────────────────────────────────────
fastapi==0.111.0
uvicorn[standard]==0.30.1
starlette==0.37.2               # (optional pin; compatible na FastAPI 0.111.x)

# ── Pydantic v2 (schema+validation) ───────────────────────────────────────────────────
pydantic>=2.6,<3
pydantic-core>=2.16,<3
pydantic-settings==2.5.2        # .env config via Pydantic v2

# ── DB / ORM ──────────────────────────────────────────────────────────────────────────
SQLAlchemy==2.0.36
psycopg2-binary==2.9.10
alembic==1.13.2

# ── Utilities & dates ─────────────────────────────────────────────────────────────────
python-dotenv==1.0.1
typing-extensions==4.12.2
python-dateutil==2.9.0.post0
tzdata==2025.1                   # timezones kwenye container zisizo na tzdata

# ── Auth & security ───────────────────────────────────────────────────────────────────
PyJWT==2.8.0
passlib[bcrypt]==1.7.4
bcrypt==3.2.2                    # 👈 pin < 4.x kuondoa __about__ error
email-validator==2.1.1
python-multipart==0.0.9          # kwa form-data uploads (signup/profile/img)

# ── HTTP clients / retries ────────────────────────────────────────────────────────────
httpx==0.27.2
requests==2.32.3
tenacity==9.0.0                  # retries (e.g., webhooks, third-party)

# ── Media & utils (SmartBiz features: video/image/QR) ─────────────────────────────────
moviepy==1.0.3
imageio==2.34.1
imageio-ffmpeg==0.4.9
pillow==10.4.0
qrcode==7.4.2

# ── Background jobs / scheduling ──────────────────────────────────────────────────────
APScheduler==3.11.0

# ── Realtime / SSE / WebSockets helpers (optional but useful) ─────────────────────────
sse-starlette==2.0.0             # ukitumia Server-Sent Events kwa live analytics
websockets==12.0                 # (uvicorn[standard] tayari huleta, hii ni ya APIs zingine)

# ── Serialization ya haraka (JSON) ────────────────────────────────────────────────────
orjson==3.10.7                   # Response JSON ya kasi (Optional, recommended)

# ── Observability (metrics/logs) ──────────────────────────────────────────────────────
starlette-exporter==0.21.0       # Prometheus metrics kwa /metrics (hiari)
loguru==0.7.2                    # logging nzuri (hiari)

# ── OpenAI / AI (kama unatumia AI features) ───────────────────────────────────────────
openai>=1.35.0,<2.0
